<!--
index: 1
title: 尾部跟随图例
resource:
  jsFiles:
    - ${url.dataSet}
    - ${url.jquery}
plotDescription: 尾部跟随legend，自动定位在line或area的尾部位置，有助于加强图形与legend之间的视觉联系。
plotUsage: 数据来源：德国联邦统计局人口结构预测https://service.destatis.de/bevoelkerungspyramide/#!y=2060。
-->
<script>
    $('body').css({'backgroundColor':'#ebf0f0'});
     const colors = [ '#1f9399', '#dcb17f', '#875630', '#fd9833', '#254297', '#d872be', '#185c75', '#52c09c', '#766d58', '#28b8bd', '#f5d08e', '#b68761', '#f69574' ];
    $.getJSON('/assets/data/fertility.json', data => {
      const chart = new G2.Chart({
        container: 'mountNode',
        forceFit: true,
        height: window.innerHeight,
        padding: [ 20, 200, 50, 50 ]
      });
      chart.source(data);
      chart.legend({ attachLast: true });
      chart.line().position('year*value').color('country', colors)
            .size('country', country => {
              if (country === 'China') return 5;
              return 2;
            })
            .opacity('country', country => {
              if (country === 'China') return 1;
              return 0.6;
            })
            .style({ lineCap: 'round' });
      chart.render();
    
    });
    </script>