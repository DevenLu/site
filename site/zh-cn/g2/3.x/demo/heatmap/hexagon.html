<!--
title: 六边形分箱
template: g2-demo
resource:
  jsFiles:
    - https://unpkg.alipay.com/@alipay/data-set@0.3.0/build/data-set.js
plotDescription: 六边形分箱图
plotUsage: blablablalalalala
relativePlots:
  - ${plotByName.pie}
  - ${plotByName.line}
-->
<script>
    const data = [];
    for (let i = 0; i < 1000; i++) {
        data.push({ x: Math.random() * 10, y: Math.random() * 10 });
    }
    const ds = new DataSet();
    const dv = ds.createView().source(data);
    dv.transform({
        // sizeByCount: true, // calculate bin size by binning count
        type: 'bin.hexagon',
        fields: [ 'x', 'y' ],
        // offset: [ -0.2, -0.2 ],
        binWidth: [ 2, 4 ]
    });

    const chart = new G2.Chart({
        container: 'mountNode',
        forceFit: true,
        height: window.innerHeight
    });
    chart.scale({
        x: { sync: true },
        y: { sync: true }
    });

    const binView = chart.view();
    binView.source(dv);
    binView.tooltip(false);
    binView.polygon()
        .position('x*y')
        .color('count', [ 'rgb(255, 255, 200)', 'rgb(255, 255, 0)' ])
        .style({
            stroke: 'green',
            lineWidth: 0.5
        });

    const pointView = chart.view();
    pointView.source(data);
    pointView.tooltip(false);
    pointView.point()
        .position('x*y')
        .size(1)
        .shape('circle')
        .color('grey');

    chart.render();
</script>