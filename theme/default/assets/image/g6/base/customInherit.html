<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <title>&#x81EA;&#x5B9A;&#x4E49;-&#x7EE7;&#x627F;</title>
    <style>::-webkit-scrollbar{display:none;}html,body{overflow:hidden;}</style>
</head>
<body>
<div id="mountNode"></div>
<script>
/*Fixing iframe window.innerHeight 0 issue in Safari*/
document.body.clientHeight;
</script>
<script src="https://unpkg.com/@antv/g6@2.0.0-beta.85/dist/g6.js"></script>
<script src="https://unpkg.com/@antv/g6@2.0.0-beta.85/dist/g6.js"></script>
<script>
var data = {
  nodes: [{
    id: 'node1',
    x: 50,
    y: 50,
    shape: 'rect'
  }, {
    id: 'node2',
    x: 100,
    y: 200,
    shape: 'custom'
  }]
};

G6.registerNode('rect', {
  draw: function draw(item) {
    var group = item.getGraphicGroup();
    this.drawText(item);
    return group.addShape('rect', {
      attrs: {
        x: 100,
        y: 100,
        width: 100,
        height: 100,
        stroke: 'red'
      }
    });
  },
  drawText: function drawText(item) {
    var group = item.getGraphicGroup();
    var text = this.getText();
    group.addShape('text', {
      attrs: {
        x: 100,
        y: 100,
        fill: '#333',
        text: text
      }
    });
  },
  getText: function getText() {
    return '我是一个节点 rect';
  }
});

G6.registerNode('custom', {
  getText: function getText() {
    return '我是一个自定义节点，\n继承于 rect';
  }
}, 'rect');

var graph = new G6.Graph({
  container: 'mountNode', // 容器ID
  fitView: 'cc',
  height: window.innerHeight
});
graph.read(data);
</script>


</body></html>