<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <title>&#x81EA;&#x5B9A;&#x4E49;-&#x51FA;&#x573A;&#x5165;&#x573A;&#x52A8;&#x753B;</title>
    <style>::-webkit-scrollbar{display:none;}html,body{overflow:hidden;}</style>
</head>
<body>
<div id="mountNode"></div>
<script>
/*Fixing iframe window.innerHeight 0 issue in Safari*/
document.body.clientHeight;
</script>
<script src="https://unpkg.com/@antv/g6@2.0.0-beta.85/dist/g6.js"></script>
<script src="https://unpkg.com/@antv/g6@2.0.0-beta.85/dist/g6.js"></script>
<script>
var data = {
  "nodes": [{
    "shape": "customNode",
    "id": "node1",
    x: 100,
    y: 100
  }]
};

G6.registerNode('customNode', {
  // 自定义入场动画
  enterAnimate: function enterAnimate(item) {
    var group = item.getGraphicGroup();
    var model = item.getModel();
    var x = model.x;
    var y = model.y;

    group.transform([['t', -x, -y], ['s', 0.01, 0.01], ['t', x, y]]);
    !group.get('destroyed') && group.animate({
      transform: [['t', -x, -y], ['s', 100, 100], ['t', x, y]]
    }, 450, 'easeBackOut');
  },

  // 自定义出场动画
  leaveAnimate: function leaveAnimate(item) {
    var group = item.getGraphicGroup();
    var model = item.getModel();
    var x = model.x;
    var y = model.y;
    group && !group.get('destroyed') && group.animate({
      transform: [['t', -x, -y], ['s', 0.01, 0.01], ['t', x, y]]
    }, 450, 'easeCircleOut', function() {
      group.remove();
    });
  }
});

var graph = new G6.Graph({
  container: 'mountNode', // dom 容器 或 容器ID
  fitView: 'cc',
  height: window.innerHeight,
  animate: true
});
graph.read(data);
setTimeout(function() {
  graph.remove("node1");
}, 800);
</script>


</body></html>